<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<title>Get Money Flight (Super Customizado)</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
<style>
html, body { height: 100%; width: 100%; margin: 0; padding: 0; }
body {
    background: #000; color: #eaf7ff;
    font-family: 'Orbitron', Arial, sans-serif;
    height: 100vh; width: 100vw; overflow-x:hidden; overflow-y:hidden;
    touch-action: none;
}
.tela {
    width:100vw;height:100vh;
    position:fixed;left:0;top:0;
    display:flex;align-items:center;justify-content:center;z-index:2;
}
.tela.jogo {display:none;}
#tela_jogo.active {display:flex;}
#tela_capa {background:#000;overflow: hidden;}
#tela_capa .centered {
    position:relative;width:92vw;max-width:360px;margin:auto;display:flex;flex-direction:column;align-items:center;justify-content:center;
    background:rgba(8,12,40,0.98);border-radius:22px;box-shadow:0 12px 32px #021;
    padding:32px 13px 26px 13px;z-index:2;
}
#tela_capa h1 {margin:0 0 12px 0; font-size:clamp(1.2rem,4vw,2.1rem);}
#tela_capa p {margin:0 0 14px 0;}
#playfield {
    position:relative;
    background: url("https://img.freepik.com/fotos-premium/jogador-feliz-segurando-o-tesouro-da-caixa-de-saque_1060494-82167.jpg") center center/cover #011223;
    border-radius:16px;box-shadow:0 6px 24px #001;overflow:hidden;
    width:360px; height:100vh; max-height:100vh; min-height:420px;
    margin:0 auto; box-sizing:border-box;transition:height .2s;
}
@media (max-width:600px) {
    #playfield {
        width:99vw;height:100vh;max-width:99vw;max-height:100vh;min-height:350px;
    }
}
#rocketWrap {
    position:absolute;
    left:50%; top:390px;
    width:81px;height:88px;
    transform:translateX(-50%);
    user-select:none;pointer-events:none;transition:top 0.17s cubic-bezier(.22,.82,.43,1.1),left 0.09s;
    will-change: top;
    z-index:10;
}
.rocket, #rocketWrap img {
    width:82px;max-width:130px;display:block;user-select:none !important;pointer-events:none !important;
}
#hud_custom {
    position: absolute;
    left:auto; right:0; top:0;
    width:99vw;max-width:370px;min-width:210px;
    background:rgba(18,24,40,0.99);
    border-radius: 0 0 20px 20px;
    box-shadow: 0 12px 23px #0a5f6868;
    display: flex; flex-direction:column;align-items:stretch;z-index:99;
    color:#fff;font-family:'Orbitron',Arial,sans-serif;font-size:1em;font-weight:700;
    letter-spacing:0.1px;padding:15px 8px 11px 15px;box-sizing:border-box;gap:7px;
}
#walletbox {
    background:rgba(34,56,89,0.19);border-radius:14px;box-shadow:0 2px 7px #012c;
    padding:14px 11px 14px 11px;margin-bottom:6px;display:flex;flex-direction:column;gap:5px;align-items:flex-start;font-size:1.12em;
}
#walletbox label {color:#aafefa;font-size:0.95em;letter-spacing:0.02em;opacity:0.82;margin-right:4px;font-weight:700;}
#walletbox .main-valor {font-size:1.2em;color:#3afc9a;margin-left:2px;font-weight:900;text-shadow:0 0 4px #2ff8c5, 0 1px 2px #004;}
#wallet_ult, #wallet_partidas, #wallet_maior {font-size:0.98em;}
#wallet_maior strong { color:#ffd200; }
#wallet_saldo {font-size:1.08em;color:#10ffd7;font-weight:900;letter-spacing:0.12em;text-shadow:0 0 3px #00f4; margin-left:2px;}
#wallet_nome {font-size:0.94em;color:#f3eaa0;opacity:0.81;}
#hud_custom .hud-row {width:98%;margin-bottom:7px;}
#boostHUDrow {
    display:flex;align-items:center;gap:9px;margin:8px 0 2px 0;
    background:none !important;font-size:1em;box-shadow:none;border:none;padding:0}
#boostHUDrow span:first-child {margin-left:0;}
#boostSaldo {font-size:1.05em;color:#f41b36;font-weight:900;margin-left:2px;letter-spacing:0.1px;text-shadow:0 0 6px #e995b7;}
#hud_func {margin-top:6px;width:100%;display:flex;flex-direction:column;align-items:center;gap:7px}
#hud_func .hud-btn {
    width: 97%; min-height:38px; font-size:.97em;
    box-shadow:0 2.5px 10px #00f4;
    font-family:'Orbitron',Arial,sans-serif;
    border-radius:9px;
    font-weight:700;
    padding:9px 5px;
    letter-spacing:0.02px;
    transition:.11s;
}
#hud_func .hud-btn:active {background:#32aaff;}
#hud_topo_central {
    position:absolute;
    left:50%;top:10px;transform:translateX(-50%);
    width:93vw;max-width:325px;text-align:center;z-index:34;
    font-family:'Orbitron',Arial,sans-serif;
    background:rgba(19,30,60,0.97); color:#22fff6;
    padding:9px 0 6px 0; border-radius:12px;
    box-shadow:0 2px 14px #00ffee44;
    font-size:1.09rem;font-weight:800;letter-spacing:.31px;
}
/* EFEITOS PONTOS MMORPG */
.pontos-anim {
    position:absolute;
    left:51vw;
    pointer-events:none;
    font-family:'Orbitron',Arial,sans-serif;
    font-weight:900;
    color:#a933d6;
    text-shadow:0 1px 15px #fff,0 0 32px #6d23ac,0 12px 28px #0b0b1d;
    background:rgba(19,9,40,.16);
    border-radius:19px;
    opacity:1;
    z-index:121;
    animation: pontosFXmmorpg .68s cubic-bezier(.16,1.17,.6,1.05);
    filter: drop-shadow(0 0 0 #6b19fa);
    will-change: transform, opacity;
}
@keyframes pontosFXmmorpg {
    0% {opacity:0; transform:translateY(25px) scale(0.7) skewX(-6deg);}
    18% {opacity:.86;filter:drop-shadow(0 8px 5px #af6af0);}
    32% {opacity:.95; transform:scale(1.2) skewY(3deg);filter:drop-shadow(0 0 9px #d6b6ff);}
    66% {opacity:.98;transform:scale(1) skewY(0deg);}
    93% {opacity:.75;}
    100% { opacity:0;transform:translateY(-88px) scale(.65) skewX(8deg);}
}
.bonusFX {
    color: #ff3c52; background:rgba(0,0,0,0.07);
    font-weight:900;
    left:55vw;animation: bonusFX .78s cubic-bezier(0.35,1,0.77,0.7);
    border-radius:7px;padding:3px 8px; min-width:85px;
    position:absolute;bottom:25px;z-index:101;letter-spacing:.05em;
}
@keyframes bonusFX {
    0%   {opacity:0;transform:scale(1.06);}
    25%  {opacity:.75;}
    50%  {opacity:1;}
    98%  {opacity:1;}
    100% {opacity:0;transform:scale(.88) translateY(11px);}
}
#explodiu {
    display:none;position:fixed;left:0;top:0;width:100vw;height:100vh;
    background:rgba(7,17,27,0.97);z-index:100;align-items:center;justify-content:center;
}
#explodiuCard {
    margin:auto;width:88vw;max-width:350px;
    background:#132458fd;padding:30px 0 22px 0;border-radius:20px;text-align:center;
    box-shadow:0 7px 33px #0b1a55b8;
    display:flex;flex-direction:column;align-items:center;gap:24px;
    font-family:'Orbitron',Arial,sans-serif;
}
#explodiuCard h2 {font-size:1.35em;font-weight:900;margin:5px 0 0 0;}
#valor-sacado {
    font-size:1.6em;color:#30ffb6;margin:5px auto 0 auto;font-weight:900;letter-spacing:0.7px;
}
#btnSacar, #btnMudarRocket, #btnVoltarInicio {
    background:#29e871;color:#003;font-family:'Orbitron',Arial,sans-serif;
    border:none;font-weight:800;border-radius:13px;font-size:1.1em;
    box-shadow: 0 3px 18px #1bf0a6; margin:0 auto 0 auto;padding:13px 0;width:80%;
    max-width:270px; margin-bottom:7px; cursor:pointer; transition:.11s;
}
#btnSacar:hover, #btnMudarRocket:hover, #btnVoltarInicio:hover { background:#e8b429;color:#003;}
</style>
</head>
<body>
<!-- CAPA -->
<div class="tela" id="tela_capa">
    <div class="centered">
        <img src="https://images.vexels.com/media/users/3/203409/isolated/preview/255fa1a5339446d19ef7068cfe170c7b-foguete-espacial-ilustracao-foguete.png" class="rocket" alt="foguete" draggable="false" unselectable="on"/>
        <h1>Get Money Flight</h1>
        <p>Pronto para decolar e ficar rico no universo?</p>
        <button id="btnJogar">JOGAR AGORA</button>
    </div>
</div>
<!-- JOGO -->
<div class="tela jogo" id="tela_jogo">
    <div id="playfield">
        <div id="rocketWrap" unselectable="on">
        <img
            src="https://images.vexels.com/media/users/3/203409/isolated/preview/255fa1a5339446d19ef7068cfe170c7b-foguete-espacial-ilustracao-foguete.png"
            draggable="false"
            unselectable="on"
            alt="foguete"
            id="fogueteImagem"
        >
        </div>
        <div id="hud_topo_central"></div>
    </div>
    <div id="hud_custom">
      <div id="walletbox">
        <div>
          <label>Carteira:</label>
          <span id="wallet_saldo">R$ 0,00</span>
        </div>
        <div id="wallet_maior">
          <label>Maior saldo:</label>
          <strong id="wallet_maior_num">R$ 0,00</strong>
        </div>
        <div id="wallet_ult">
          <label>Ãšltimo saque:</label>
          <span id="wallet_ult_num">R$ 0,00</span>
        </div>
        <div id="wallet_partidas">
          <label>Partidas:</label>
          <span id="wallet_partidas_num">0</span>
        </div>
        <div id="wallet_nome">
          jogador: <span id="wallet_nome_player">Visitante(a)</span>
        </div>
      </div>
      <div id="saldoHUD">R$ 0,00</div>
      <div id="saldoTotalHUD">Saldo Ganho: R$ 0,00</div>
      <div id="boostHUDrow">
        <span>Boost:</span>
        <span id="boostSaldo">0</span>
        <button class="hud-btn" tabindex="-1" style="padding:3px 8px 3px 8px;font-size:0.94em;margin-left:auto;" id="btnBoost">Comprar Boost</button>
      </div>
      <div id="hud_func">
          <button class="hud-btn" id="btnFuncionarFoguete" style="margin-top:4px;">Vamos Decolar!</button>
      </div>
    </div>
</div>
<!-- GAME OVER MODAL CENTRAL -->
<div id="explodiu">
    <div id="explodiuCard">
        <h2>ðŸ’¸ Fim de Partida!</h2>
        <div>Seu lucro foi:</div>
        <div id="valor-sacado">R$ 0,00</div>
        <button id="btnSacar">Sacar via Pix</button>
        <button id="btnMudarRocket">Mudar Foguete</button>
        <button id="btnVoltarInicio">Voltar para Menu Inicial</button>
    </div>
</div>
<audio id="sndPing"><source src="https://cdn.pixabay.com/audio/2022/12/19/audio_12c2c797f2.mp3" type="audio/mp3"></audio>
<script>
const playfield = document.getElementById('playfield');
const rocketWrap = document.getElementById('rocketWrap');
const saldoHUD = document.getElementById('saldoHUD');
const saldoTotalHUD = document.getElementById('saldoTotalHUD');
const btnFuncionarFoguete = document.getElementById('btnFuncionarFoguete');
const btnBoost = document.getElementById('btnBoost');
const boostSaldo = document.getElementById('boostSaldo');
const hudTopoCentral = document.getElementById('hud_topo_central');
const explodiuModal = document.getElementById('explodiu');
const valorSacado = document.getElementById('valor-sacado');
const btnVoltarInicio = document.getElementById('btnVoltarInicio');
const btnSacar = document.getElementById('btnSacar');
const btnMudarRocket = document.getElementById('btnMudarRocket');
const walletSaldo = document.getElementById('wallet_saldo');
const walletMaior = document.getElementById('wallet_maior_num');
const walletUlt = document.getElementById('wallet_ult_num');
const walletPartidas = document.getElementById('wallet_partidas_num');
const walletPlayer = document.getElementById('wallet_nome_player');
const sndPing = document.getElementById('sndPing');

// CONSTS
const ALTURA_MAX = 15000;
const SUBIDA_METROS = 50;
const PONTOS_POR_SUBIDA = 77;
const FOGUETE_TOP_INICIAL = 390, FOGUETE_TOP_SUPERIOR=40;
const BOOST_VALOR = 15;
const QUEDA_METROS_POR_SEG = 15;
const TEMPO_EXPLODIR = 8; // segundos

let usuario = {
    nome: "Visitante(a)",
    partidas: 0,
    carteira: 0,
    maior: 0,
    ultimo: 0,
};
let jogo = {
    rodando: false,
    iniciado: false,
    pontos: 0,
    pontosGanhos: 0,
    altura: 0,
    boost: 0,
    y: FOGUETE_TOP_INICIAL,
    toques: 0,
    bonus: 0,
    tempoRestante: TEMPO_EXPLODIR,
    vel: 0,
    falling: false,
    explodido: false
};

function formatTime(segundos) {
    segundos = Math.max(0,Math.floor(segundos));
    let min = Math.floor(segundos / 60);
    let seg = segundos % 60;
    return (min<10?'0':'') + min + ':' + (seg<10?'0':'') + seg;
}
function atualizarHUDTopoCentral() {
    let txt = '';
    if(jogo.falling && !jogo.rodando){
        txt = `<span>Lucro (final): <strong>R$ ${formatarReais(jogo.pontos)}</strong></span>`;
    }else{
        txt = `<span>Altura: <strong>${Math.round(jogo.altura)}m</strong> &nbsp;|&nbsp; Tempo: <strong>${formatTime(jogo.tempoRestante)}</strong></span>`;
    }
    hudTopoCentral.innerHTML = txt;
}

function formatarReais(valor) {
    return valor.toLocaleString('pt-BR', {minimumFractionDigits:2, maximumFractionDigits:2 });
}
function atualizarHUDCarteira() {
    walletSaldo.textContent = "R$ " + formatarReais(usuario.carteira);
    walletMaior.textContent = "R$ " + formatarReais(usuario.maior);
    walletUlt.textContent = "R$ " + formatarReais(usuario.ultimo);
    walletPartidas.textContent = usuario.partidas;
    walletPlayer.textContent = usuario.nome;
}
function atualizarHUD() {
    saldoHUD.textContent = `R$ ${formatarReais(jogo.pontos)}`;
    saldoTotalHUD.innerHTML = `Saldo Ganho: <b style="color:#79ffc7;">R$ ${formatarReais(jogo.pontosGanhos)}</b>`;
    boostSaldo.textContent = jogo.boost;
    boostSaldo.style.color=(jogo.boost === 0 ? '#ff2222' : '#10ffa7');
    atualizarHUDCarteira();
    atualizarHUDTopoCentral();
}
function atualizarFoguete() {
    let faixaPixel = FOGUETE_TOP_INICIAL - FOGUETE_TOP_SUPERIOR;
    let topY = FOGUETE_TOP_INICIAL - ((jogo.altura/ALTURA_MAX) * faixaPixel);
    rocketWrap.style.top = `${topY}px`;
}
function resetarJogo() {
    Object.assign(jogo, {pontos:0,pontosGanhos:0, altura:0, boost:0, y:FOGUETE_TOP_INICIAL,
                         toques:0, bonus:0, tempoRestante:TEMPO_EXPLODIR, vel:0, falling:false, iniciado:false, explodido:false});
    explodiuModal.style.display = 'none';
    document.querySelectorAll('.pontos-anim,.bonusFX').forEach(e => e.remove());
    clearInterval(timerJogo);
    timerJogo = null;
    btnFuncionarFoguete.disabled = false;
    atualizarHUD();
    atualizarFoguete();
}
document.getElementById('btnJogar').onclick = function(){
    document.getElementById('tela_capa').style.display='none';
    document.getElementById('tela_jogo').classList.add('active');
    resetarJogo();
};
btnVoltarInicio.onclick = function(){
    document.getElementById('tela_capa').style.display='';
    document.getElementById('tela_jogo').classList.remove('active');
    resetarJogo();
};
btnMudarRocket.onclick = function(){
    alert("Em breve serÃ¡ possÃ­vel mudar seu foguete!");
};
btnSacar.onclick = function(){
    alert("Pagamento Pix enviado! (Mockup)");
};
let timerJogo=null;
btnFuncionarFoguete.onclick = function() {
    if(jogo.iniciado) return;
    jogo.rodando = true;
    jogo.iniciado = true;
    btnFuncionarFoguete.disabled = true;
    iniciarJogo();
};
btnBoost.onclick = function() {
    alert("Comprar boost sÃ³ disponÃ­vel em versÃµes futuras!");
};

// MMORPG DAMAGE EFFECT: Purple, random size, bounce
function efeitoPontos(valor, corClasse, isBonus, topPx) {
    let item = document.createElement('div');
    let rocketRect = rocketWrap.getBoundingClientRect();
    let playfieldRect = playfield.getBoundingClientRect();
    let leftPx = (rocketRect.left - playfieldRect.left) + rocketRect.width + 1;
    // Variar tamanho: entre 2.0em e 3.3em (MMORPG crit)
    let size = (Math.random() * 1.3 + 2.0).toFixed(2) + "em";
    // sempre roxo e com efeito especial
    if(isBonus){
        item.className = "bonusFX";
        item.innerHTML = `BÃ”NUS + R$ ${formatarReais(valor)}`;
        item.style.left = "50vw";
        item.style.fontSize = '1.8em';
        item.style.bottom="28px"; // rodapÃ©
        document.body.appendChild(item);
        setTimeout(()=>{item.remove();},1100);
        return;
    } else {
        item.className = "pontos-anim pontos-roxo";
        item.innerHTML = `+ R$ ${formatarReais(valor)}`;
        item.style.fontSize = size;
        item.style.left = leftPx + "px";
        item.style.top = (rocketRect.top - playfieldRect.top + rocketRect.height/2 - 20) + "px";
        playfield.appendChild(item);
        setTimeout(()=>{item.remove();},680);
    }
}

function subirFoguete() {
    if(!jogo.rodando || !jogo.iniciado || jogo.explodido) return;
    if(jogo.falling) return;
    jogo.vel = 39;
    jogo.altura += SUBIDA_METROS;
    if(jogo.altura > ALTURA_MAX) jogo.altura = ALTURA_MAX;
    jogo.pontos += PONTOS_POR_SUBIDA;
    jogo.pontosGanhos += PONTOS_POR_SUBIDA;
    jogo.toques++;
    atualizarHUD(); atualizarFoguete();
    efeitoPontos(PONTOS_POR_SUBIDA, "", false);
    sndPing.currentTime=0; sndPing.volume=1; sndPing.play().catch(()=>{});
    if(jogo.toques%10===0){
        let bonus = Math.round(jogo.pontos*0.15);
        jogo.pontos += bonus;
        jogo.bonus += bonus;
        jogo.pontosGanhos += bonus;
        efeitoPontos(bonus, '', true);
        atualizarHUD();
    }
}
playfield.addEventListener('mousedown',e=>{
    if(!(jogo.rodando&&jogo.iniciado)) return;
    if(jogo.falling) return;
    if(e.button===0) subirFoguete();
});
playfield.addEventListener('touchstart',function(e){}, {passive:true});
function iniciarJogo(){
    if(timerJogo) clearInterval(timerJogo);
    jogo.falling = false;
    timerJogo = setInterval(()=>{
        if(!jogo.rodando || jogo.explodido) return;
        if(jogo.vel>0){
            jogo.altura += jogo.vel;
            if(jogo.altura > ALTURA_MAX) jogo.altura = ALTURA_MAX;
            jogo.vel -= (jogo.vel>21) ? 14 : 6;
            if(jogo.vel<0) jogo.vel=0;
        } else {
            if(jogo.tempoRestante<=0 && !jogo.falling){
                jogo.falling = true;
                jogo.rodando = false;
                atualizarHUDTopoCentral();
                clearInterval(timerJogo);
                timerJogo=null;
                setTimeout(finalizarPartida,820);
            }
        }
        atualizarFoguete();
        if(!jogo.falling) {
            jogo.tempoRestante -= 0.1;
            if(jogo.tempoRestante<0.1) jogo.tempoRestante=0;
        }
        atualizarHUDTopoCentral();
    },100);
}
function finalizarPartida(){
    usuario.carteira += jogo.pontos;
    if(jogo.pontos > usuario.maior) usuario.maior = jogo.pontos;
    usuario.ultimo = jogo.pontos;
    usuario.partidas += 1;
    atualizarHUDCarteira();
    explodiuModal.style.display="flex";
    valorSacado.textContent = `R$ ${formatarReais(jogo.pontos)}`;
}
document.querySelectorAll('img,#rocketWrap').forEach(el=>el.addEventListener('dragstart',e=>e.preventDefault()));
atualizarHUD(); atualizarFoguete();
</script>
</body>
</html>